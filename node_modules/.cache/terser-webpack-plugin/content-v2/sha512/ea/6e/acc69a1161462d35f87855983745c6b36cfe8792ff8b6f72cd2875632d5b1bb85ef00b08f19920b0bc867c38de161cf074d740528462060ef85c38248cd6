{"code":"(this.webpackJsonpotpyg=this.webpackJsonpotpyg||[]).push([[0],{108:function(e,t,o){},128:function(e,t,o){},134:function(e,t,o){\"use strict\";o.r(t);var r=o(0),n=o.n(r),a=o(22),c=o.n(a),s=(o(108),o(52)),i=o(15),l=o(10),u=o(53),p=o.n(u),m=o(83),d=o.n(m),j=o(190),b=o(189),f=o(185),h=o(186),O=o(89),g=o(188),y=o(178),x=o(88),v=o.n(x),w=o(87),k=o.n(w),F=o(86),L=o.n(F),M=(o(127),o(84)),C=(o(128),o(2));function S(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),o=Object(r.useState)(null),n=Object(l.a)(o,2),a=n[0],u=n[1],m=Object(r.useState)(-98.0822),x=Object(l.a)(m,2),w=x[0],F=x[1],S=Object(r.useState)(39.6719),E=Object(l.a)(S,2),N=E[0],I=E[1],A=Object(r.useState)(3),z=Object(l.a)(A,2),D=z[0],T=z[1],J=Object(r.useState)(!1),_=Object(l.a)(J,2),R=_[0],B=_[1],H=Object(r.useState)(!1),Q=Object(l.a)(H,2),V=Q[0],X=Q[1],P=Object(O.a)({palette:{mode:\"dark\",primary:{main:y.a[400]}}});function Y(e,o){var r=document.createElement(\"div\");c.a.render(e,r),(new p.a.Popup).setDOMContent(r).setLngLat(o).addTo(t.current)}Object(r.useEffect)((function(){t.current&&t.current.on(\"move\",(function(){F(t.current.getCenter().lng.toFixed(4)),I(t.current.getCenter().lat.toFixed(4)),T(t.current.getZoom().toFixed(2))}))}));var K=function(e){return Object(C.jsx)(\"div\",{children:e.map((function(e){return Object(C.jsxs)(\"div\",{className:\"user-container\",children:[Object(C.jsx)(\"h1\",{children:\"\".concat(e.name,\" '\").concat(e.year)}),e.roommate?Object(C.jsx)(\"h3\",{children:Object(C.jsx)(\"b\",{children:\"Looking for a house/roommate\"})}):null,Object(C.jsxs)(\"p\",{children:[\"Major(s): \",e.major]}),Object(C.jsxs)(\"p\",{children:[\"What I'm doing here: \",e.activity]}),e.contact?Object(C.jsxs)(\"p\",{children:[\"Contact: \",e.contact]}):null,Object(C.jsxs)(\"p\",{children:[\"Last updated: \",new Date(e.timestamp).toLocaleDateString()]})]},\"USER_INFO_BOX_FOR_\".concat(e.email))}))})};Object(r.useEffect)((function(){if(!a){var o=performance.now();d.a.get(\"https://script.google.com/macros/s/AKfycbzqn-y8SAgoDB4QMh-XFzVwP1jrc2FDnh7GXFUy2Mkz6iKv9m5b0uhAKdT7Y9jrIQ7wcQ/exec\").then((function(r){var n=performance.now();console.log(\"Axios call took \".concat(n-o,\" milliseconds\"));var a={},c=performance.now();r.data.forEach((function(e){a[e[\"Email Address\"]]={type:\"Feature\",properties:{weight:1,users:[{timestamp:e.Timestamp,name:e[\"Name (First Last)\"],year:e.Year,major:e[\"Major(s)\"],activity:e[\"What have/will you be(en) doing there (ex. Working at McDonalds as a Software Engineer)?\"],roommate:\"Yes\"==e[\"Are you looking for a house/roommate?\"],contact:e[\"Contact information\"],email:e[\"Email Address\"]}],attention:\"Yes\"==e[\"Are you looking for a house/roommate?\"]?1:0},geometry:{type:\"Point\",coordinates:[e.Longitude,e.Latitude]}}})),u(a);var s=performance.now();console.log(\"Eliminating duplicate records took \".concat(s-c,\" milliseconds\"));var l=performance.now(),m=new Set,d=[],j=0;Object.values(a).forEach((function(e){var t=e.geometry.coordinates[0],o=e.geometry.coordinates[1],r=!1;m.forEach((function(n){if(Math.pow(t-n[0],2)+Math.pow(o-n[1],2)<Math.pow(.001,2)){var a=d[n[2]].properties.users,c=d[n[2]].geometry,s=d[n[2]].properties.weight,l=d[n[2]].properties.attention;d[n[2]]={type:\"Feature\",properties:{weight:s+1,users:[].concat(Object(i.a)(a),[e.properties.users[0]]),attention:+[l,e.properties.attention].some((function(e){return 1===e}))},geometry:c},r=!0}})),r||(d.push(e),m.add([t,o,j]),j++)}));var b=performance.now();console.log(\"Grouping records took \".concat(b-l,\" milliseconds\"));var f={type:\"FeatureCollection\",features:d};if(!t.current){var h=performance.now();t.current=new p.a.Map({container:e.current,style:\"mapbox://styles/mapbox/dark-v10\",center:[w,N],zoom:D}),t.current.on(\"load\",(function(){t.current.addSource(\"users\",{type:\"geojson\",data:f}),t.current.addLayer({id:\"users-heat\",type:\"heatmap\",source:\"users\",maxzoom:14,paint:{\"heatmap-weight\":{type:\"exponential\",stops:[[1,0],[500,30]]},\"heatmap-intensity\":{stops:[[11,1],[15,3]]},\"heatmap-color\":[\"interpolate\",[\"linear\"],[\"heatmap-density\"],0,\"rgba(255,153,153,0)\",.2,\"rgb(0,255,150)\",.4,\"rgb(50,204,0)\",.6,\"rgb(50,153,0)\",.8,\"rgb(50,102,0)\"],\"heatmap-radius\":{stops:[[11,15],[15,20]]},\"heatmap-opacity\":{default:1,stops:[[11,1],[12,0]]}}},\"waterway-label\"),t.current.addLayer({id:\"users-point\",type:\"circle\",source:\"users\",minzoom:5,paint:{\"circle-radius\":8,\"circle-color\":{property:\"attention\",type:\"exponential\",stops:[[0,\"rgb(0,225,0)\"],[1,\"rgb(255,200,0)\"]]},\"circle-stroke-color\":\"rgba(0,100,0, 0.3)\",\"circle-stroke-width\":1,\"circle-opacity\":{stops:[[11,0],[12,1]]}}},\"waterway-label\"),t.current.on(\"click\",\"users-point\",(function(e){var t=e.features,o=t[0].properties.users;Y(K(JSON.parse(o)),t[0].geometry.coordinates)}))}));var O=performance.now();console.log(\"Mapping records took \".concat(O-h,\" milliseconds\")),console.log(\"If you would like to help develop this site, please contact me (Ian Hou) via iankwanhou@gmail.com.\")}}))}}));var U;return U=a?Object.keys(a).map((function(e){return{email:e,name:a[e].properties.users[0].name,year:a[e].properties.users[0].year,location:a[e].geometry.coordinates,userData:a[e].properties.users}})):[],Object(C.jsxs)(\"div\",{children:[Object(C.jsxs)(g.a,{theme:P,children:[Object(C.jsxs)(\"div\",{className:\"top_left\",children:[Object(C.jsxs)(\"p\",{style:{marginBottom:5},children:[\"Long: \",w,\" | Lat: \",N,Object(C.jsx)(\"br\",{}),\"Add yourself to the map!\"]}),Object(C.jsx)(b.a,{style:{marginRight:10},color:\"primary\",onClick:function(){return B(!0)},children:Object(C.jsx)(L.a,{})}),Object(C.jsx)(j.a,{className:\"action_button\",size:\"small\",variant:\"contained\",href:\"https://docs.google.com/forms/d/e/1FAIpQLSdV4LNX-1XjJCtvneYMH1V4d6UdABtJRtr1LOJOM272fc4HOQ/viewform?usp=sf_link\",children:\"add yourself\"})]}),Object(C.jsxs)(\"div\",{className:\"top_right\",children:[Object(C.jsx)(\"p\",{children:\"Roommate seekers\"}),Object(C.jsx)(\"div\",{className:\"inner_content\",children:V&&a?Object.entries(a).filter((function(e){return!0===e[1].properties.users[0].roommate})).map((function(e){var o=Object(l.a)(e,2),r=o[0],n=o[1];return Object(C.jsx)(\"div\",{className:\"user-container\",onClick:function(){t.current.flyTo({center:n.geometry.coordinates,zoom:13})},children:Object(C.jsx)(\"div\",{children:n.properties.users[0].name})},r)})):null}),a?Object(C.jsx)(\"div\",{style:{justifyContent:\"center\",display:\"flex\"},children:Object(C.jsx)(b.a,{\"aria-label\":\"expand\",color:\"primary\",onClick:function(){return X(!V)},children:V?Object(C.jsx)(k.a,{}):Object(C.jsx)(v.a,{})})}):null]})]}),Object(C.jsx)(\"div\",{ref:e,className:\"map-container\"}),Object(C.jsx)(M.a,{center:!0,classNames:{overlay:\"customOverlay\",modal:\"customModal\"},open:R,onClose:function(){return B(!1)},children:Object(C.jsx)(g.a,{theme:P,children:Object(C.jsx)(f.a,{options:U,isOptionEqualToValue:function(e,t){return e.email===t.email},getOptionLabel:function(e){return e.name},autoComplete:!0,renderInput:function(e){return Object(C.jsx)(h.a,Object(s.a)({},e))},renderOption:function(e,t){return Object(r.createElement)(\"li\",Object(s.a)(Object(s.a)({},e),{},{key:t.email}),t.name,\" (\\u2018\",t.year,\")\")},sx:{color:\"black\"},onChange:function(e,o){B(!1),t.current.flyTo({center:o.location,zoom:13}),Y(K(o.userData),o.location)}})})})]})}p.a.accessToken=\"pk.eyJ1IjoiaWFua2hvdSIsImEiOiJja3U1enMzNHE0enN4Mm9waXNwcDlyeGVpIn0.gz1TKA2H5JfDkMiHkdVxRQ\";var E=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,192)).then((function(t){var o=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;o(e),r(e),n(e),a(e),c(e)}))};c.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(S,{})}),document.getElementById(\"root\")),E()}},[[134,1,2]]]);","name":"static/js/main.64f5112c.chunk.js","map":{"version":3,"sources":["static/js/main.64f5112c.chunk.js"],"names":["this","push","108","module","exports","__webpack_require__","128","134","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","toConsumableArray","slicedToArray","mapbox_gl","mapbox_gl_default","axios","axios_default","Button","IconButton","Autocomplete","TextField","createTheme","ThemeProvider","deepPurple","ExpandMore","ExpandMore_default","ExpandLess","ExpandLess_default","Search","Search_default","react_responsive_modal_esm","jsx_runtime","App_App","mapContainer","Object","map","_useState","_useState2","users","setUsers","_useState3","_useState4","lng","setLng","_useState5","_useState6","lat","setLat","_useState7","_useState8","zoom","setZoom","_useState9","_useState10","search","setSearch","_useState11","_useState12","displayRoommates","setDisplayRoommates","theme","palette","mode","primary","main","addPopup","el","coords","placeholder","document","createElement","a","render","Popup","setDOMContent","setLngLat","addTo","current","on","getCenter","toFixed","getZoom","formPopup","children","user","className","concat","Date","toLocaleDateString","axiosStart","performance","now","get","then","resp","axiosEnd","console","log","features","uniqueStart","data","forEach","d","type","properties","weight","timestamp","name","year","major","activity","roommate","contact","email","attention","geometry","coordinates","uniqueEnd","groupStart","locCache","Set","groupedFeatures","groupI","values","e","long","found","c","Math","pow","oldUserList","oldGeometry","oldWeight","oldAttention","some","add","groupEnd","userCollection","mapStart","Map","container","style","center","addSource","addLayer","id","source","maxzoom","paint","heatmap-weight","stops","heatmap-intensity","heatmap-color","heatmap-radius","heatmap-opacity","default","minzoom","circle-radius","circle-color","property","circle-stroke-color","circle-stroke-width","circle-opacity","_ref","JSON","parse","mapEnd","options","keys","location","userData","marginBottom","marginRight","color","onClick","size","variant","href","entries","filter","entry","_ref2","_ref3","flyTo","justifyContent","display","aria-label","ref","classNames","overlay","modal","open","onClose","isOptionEqualToValue","option","value","getOptionLabel","autoComplete","renderInput","params","renderOption","props","key","sx","onChange","val","accessToken","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpotpyg\"] = this[\"webpackJsonpotpyg\"] || []).push([[0],{\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(22);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(108);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.js\nvar mapbox_gl = __webpack_require__(53);\nvar mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(83);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 1 modules\nvar Button = __webpack_require__(190);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/IconButton/IconButton.js + 1 modules\nvar IconButton = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Autocomplete/Autocomplete.js + 61 modules\nvar Autocomplete = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/TextField/TextField.js + 55 modules\nvar TextField = __webpack_require__(186);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/createTheme.js + 13 modules\nvar createTheme = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js + 2 modules\nvar ThemeProvider = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/colors/deepPurple.js\nvar deepPurple = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/ExpandMore.js\nvar ExpandMore = __webpack_require__(88);\nvar ExpandMore_default = /*#__PURE__*/__webpack_require__.n(ExpandMore);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/ExpandLess.js\nvar ExpandLess = __webpack_require__(87);\nvar ExpandLess_default = /*#__PURE__*/__webpack_require__.n(ExpandLess);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Search.js\nvar Search = __webpack_require__(86);\nvar Search_default = /*#__PURE__*/__webpack_require__.n(Search);\n\n// EXTERNAL MODULE: ./node_modules/react-responsive-modal/styles.css\nvar styles = __webpack_require__(127);\n\n// EXTERNAL MODULE: ./node_modules/react-responsive-modal/dist/react-responsive-modal.esm.js\nvar react_responsive_modal_esm = __webpack_require__(84);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/App.js\n// eslint-disable-next-line\nmapbox_gl_default.a.accessToken=\"pk.eyJ1IjoiaWFua2hvdSIsImEiOiJja3U1enMzNHE0enN4Mm9waXNwcDlyeGVpIn0.gz1TKA2H5JfDkMiHkdVxRQ\";function App_App(){// update users from Google Sheet\nvar mapContainer=Object(react[\"useRef\"])(null);var map=Object(react[\"useRef\"])(null);var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=Object(react[\"useState\"])(-98.0822),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),lng=_useState4[0],setLng=_useState4[1];var _useState5=Object(react[\"useState\"])(39.6719),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),lat=_useState6[0],setLat=_useState6[1];var _useState7=Object(react[\"useState\"])(3),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),zoom=_useState8[0],setZoom=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),search=_useState10[0],setSearch=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),displayRoommates=_useState12[0],setDisplayRoommates=_useState12[1];var theme=Object(createTheme[\"a\" /* default */])({palette:{mode:\"dark\",primary:{main:deepPurple[\"a\" /* default */][400]}}});Object(react[\"useEffect\"])(function(){if(!map.current)return;// wait for map to initialize\nmap.current.on(\"move\",function(){setLng(map.current.getCenter().lng.toFixed(4));setLat(map.current.getCenter().lat.toFixed(4));setZoom(map.current.getZoom().toFixed(2));});});function addPopup(el,coords){var placeholder=document.createElement(\"div\");react_dom_default.a.render(el,placeholder);new mapbox_gl_default.a.Popup().setDOMContent(placeholder).setLngLat(coords).addTo(map.current);}var formPopup=function formPopup(users){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:users.map(function(user){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"\".concat(user[\"name\"],\" '\").concat(user[\"year\"])}),user[\"roommate\"]?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Looking for a house/roommate\"})}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Major(s): \",user[\"major\"]]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"What I'm doing here: \",user[\"activity\"]]}),user[\"contact\"]?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Contact: \",user[\"contact\"]]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Last updated: \",new Date(user[\"timestamp\"]).toLocaleDateString()]})]},\"USER_INFO_BOX_FOR_\".concat(user[\"email\"]));})});};Object(react[\"useEffect\"])(function(){if(users)return;var axiosStart=performance.now();axios_default.a.get(\"https://script.google.com/macros/s/AKfycbzqn-y8SAgoDB4QMh-XFzVwP1jrc2FDnh7GXFUy2Mkz6iKv9m5b0uhAKdT7Y9jrIQ7wcQ/exec\").then(function(resp){var axiosEnd=performance.now();console.log(\"Axios call took \".concat(axiosEnd-axiosStart,\" milliseconds\"));var features={};var uniqueStart=performance.now();resp.data.forEach(function(d){features[d[\"Email Address\"]]={type:\"Feature\",properties:{weight:1,users:[{timestamp:d[\"Timestamp\"],name:d[\"Name (First Last)\"],year:d[\"Year\"],major:d[\"Major(s)\"],activity:d[\"What have/will you be(en) doing there (ex. Working at McDonalds as a Software Engineer)?\"],roommate:d[\"Are you looking for a house/roommate?\"]==\"Yes\"?true:false,contact:d[\"Contact information\"],email:d[\"Email Address\"]}],attention:d[\"Are you looking for a house/roommate?\"]==\"Yes\"?1:0},geometry:{type:\"Point\",coordinates:[d[\"Longitude\"],d[\"Latitude\"]]}};});setUsers(features);var uniqueEnd=performance.now();console.log(\"Eliminating duplicate records took \".concat(uniqueEnd-uniqueStart,\" milliseconds\"));var groupStart=performance.now();// set contains coordinates [long, lat]\nvar locCache=new Set();var groupedFeatures=[];var groupI=0;// map through each user\nObject.values(features).forEach(function(e){var long=e[\"geometry\"][\"coordinates\"][0];var lat=e[\"geometry\"][\"coordinates\"][1];var found=false;// forEach through the cache and check for similar loc\nlocCache.forEach(function(c){// if sim loc, group into the first occurrence\nif(Math.pow(long-c[0],2)+Math.pow(lat-c[1],2)<Math.pow(0.001,2)){// append to prev user list, inc weight, keep geometry\nvar oldUserList=groupedFeatures[c[2]][\"properties\"][\"users\"];var oldGeometry=groupedFeatures[c[2]][\"geometry\"];var oldWeight=groupedFeatures[c[2]][\"properties\"][\"weight\"];var oldAttention=groupedFeatures[c[2]][\"properties\"][\"attention\"];groupedFeatures[c[2]]={type:\"Feature\",properties:{weight:oldWeight+1,users:[].concat(Object(toConsumableArray[\"a\" /* default */])(oldUserList),[e[\"properties\"][\"users\"][0]]),attention:+[oldAttention,e[\"properties\"][\"attention\"]].some(function(a){return a===1;})},geometry:oldGeometry};found=true;}});if(!found){// if you've made it this far, there is not a match\n// push the uniquely-located user to the group\ngroupedFeatures.push(e);// cache their location and group index, increment group index\nlocCache.add([long,lat,groupI]);groupI++;}});var groupEnd=performance.now();console.log(\"Grouping records took \".concat(groupEnd-groupStart,\" milliseconds\"));var userCollection={type:\"FeatureCollection\",features:groupedFeatures};if(map.current)return;// initialize map only once\nvar mapStart=performance.now();map.current=new mapbox_gl_default.a.Map({container:mapContainer.current,style:\"mapbox://styles/mapbox/dark-v10\",center:[lng,lat],zoom:zoom});map.current.on(\"load\",function(){map.current.addSource(\"users\",{type:\"geojson\",data:userCollection});map.current.addLayer({id:\"users-heat\",type:\"heatmap\",source:\"users\",maxzoom:14,paint:{// increase weight as diameter breast height increases\n\"heatmap-weight\":{type:\"exponential\",stops:[[1,0],[500,30]]},// increase intensity as zoom level increases\n\"heatmap-intensity\":{stops:[[11,1],[15,3]]},// assign color values to points depending on their density\n\"heatmap-color\":[\"interpolate\",[\"linear\"],[\"heatmap-density\"],0,\"rgba(255,153,153,0)\",0.2,\"rgb(0,255,150)\",0.4,\"rgb(50,204,0)\",0.6,\"rgb(50,153,0)\",0.8,\"rgb(50,102,0)\"],// increase radius as zoom increases\n\"heatmap-radius\":{stops:[[11,15],[15,20]]},// decrease opacity to transition into the circle layer\n\"heatmap-opacity\":{default:1,stops:[[11,1],[12,0]]}}},\"waterway-label\");map.current.addLayer({id:\"users-point\",type:\"circle\",source:\"users\",minzoom:5,paint:{// increase the radius of the circle as the zoom level and weight increases\n\"circle-radius\":8,\"circle-color\":{property:\"attention\",type:\"exponential\",stops:[[0,\"rgb(0,225,0)\"],[1,\"rgb(255,200,0)\"]]},\"circle-stroke-color\":\"rgba(0,100,0, 0.3)\",\"circle-stroke-width\":1,\"circle-opacity\":{stops:[[11,0],[12,1]]}}},\"waterway-label\");map.current.on(\"click\",\"users-point\",function(_ref){var features=_ref.features;var users=features[0].properties.users;var myComp=formPopup(JSON.parse(users));addPopup(myComp,features[0].geometry.coordinates);});});var mapEnd=performance.now();console.log(\"Mapping records took \".concat(mapEnd-mapStart,\" milliseconds\"));console.log(\"If you would like to help develop this site, please contact me (Ian Hou) via iankwanhou@gmail.com.\");});});var displayUsers=function displayUsers(){if(users){// Filter for users looking for roommates\nvar usersLookingForRoommate=Object.entries(users).filter(function(entry){return entry[1].properties.users[0].roommate===true;});return usersLookingForRoommate.map(function(_ref2){var _ref3=Object(slicedToArray[\"a\" /* default */])(_ref2,2),email=_ref3[0],data=_ref3[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-container\",onClick:function onClick(){map.current.flyTo({center:data.geometry.coordinates,zoom:13});},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:data.properties.users[0].name})},email);});}else{return null;}};var options;if(users){options=Object.keys(users).map(function(email){return{email:email,name:users[email].properties.users[0].name,year:users[email].properties.users[0].year,location:users[email].geometry.coordinates,userData:users[email].properties.users};});}else{options=[];}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ThemeProvider[\"a\" /* default */],{theme:theme,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"top_left\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{style:{marginBottom:5},children:[\"Long: \",lng,\" | Lat: \",lat,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Add yourself to the map!\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{style:{marginRight:10},color:\"primary\",onClick:function onClick(){return setSearch(true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"action_button\",size:\"small\",variant:\"contained\",href:\"https://docs.google.com/forms/d/e/1FAIpQLSdV4LNX-1XjJCtvneYMH1V4d6UdABtJRtr1LOJOM272fc4HOQ/viewform?usp=sf_link\",children:\"add yourself\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"top_right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Roommate seekers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"inner_content\",children:displayRoommates?displayUsers():null}),users?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{justifyContent:\"center\",display:\"flex\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{\"aria-label\":\"expand\",color:\"primary\",onClick:function onClick(){return setDisplayRoommates(!displayRoommates);},children:displayRoommates?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ExpandLess_default.a,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ExpandMore_default.a,{})})}):null]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:mapContainer,className:\"map-container\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_responsive_modal_esm[\"a\" /* Modal */],{center:true,classNames:{overlay:\"customOverlay\",modal:\"customModal\"},open:search,onClose:function onClose(){return setSearch(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ThemeProvider[\"a\" /* default */],{theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Autocomplete[\"a\" /* default */],{options:options,isOptionEqualToValue:function isOptionEqualToValue(option,value){return option.email===value.email;},getOptionLabel:function getOptionLabel(option){return option.name;},autoComplete:true,renderInput:function renderInput(params){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])({},params));},renderOption:function renderOption(props,option){return/*#__PURE__*/Object(react[\"createElement\"])(\"li\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{key:option.email}),option.name,\" (\\u2018\",option.year,\")\");},sx:{color:\"black\"},onChange:function onChange(e,val){setSearch(false);map.current.flyTo({center:val.location,zoom:13});var myPopup=formPopup(val.userData);addPopup(myPopup,val.location);}})})})]});}\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 192)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[134,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/ikh/localdev/otpyg/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/ikh/localdev/otpyg/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/ikh/localdev/otpyg/node_modules/postcss-loader/src/index.js??postcss!/Users/ikh/localdev/otpyg/src/index.css","/Users/ikh/localdev/otpyg/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/ikh/localdev/otpyg/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/ikh/localdev/otpyg/node_modules/postcss-loader/src/index.js??postcss!/Users/ikh/localdev/otpyg/src/App.css","/Users/ikh/localdev/otpyg/src/App.js","/Users/ikh/localdev/otpyg/src/reportWebVitals.js","/Users/ikh/localdev/otpyg/src/index.js"],"names":["mapboxgl","accessToken","App","mapContainer","useRef","map","useState","users","setUsers","lng","setLng","lat","setLat","zoom","setZoom","search","setSearch","displayRoommates","setDisplayRoommates","theme","createTheme","palette","mode","primary","main","deepPurple","useEffect","current","on","getCenter","toFixed","getZoom","addPopup","el","coords","placeholder","document","createElement","ReactDOM","render","Popup","setDOMContent","setLngLat","addTo","formPopup","user","Date","toLocaleDateString","axiosStart","performance","now","axios","get","then","resp","axiosEnd","console","log","features","uniqueStart","data","forEach","d","type","properties","weight","timestamp","name","year","major","activity","roommate","contact","email","attention","geometry","coordinates","uniqueEnd","groupStart","locCache","Set","groupedFeatures","groupI","Object","values","e","long","found","c","oldUserList","oldGeometry","oldWeight","oldAttention","some","a","push","add","groupEnd","userCollection","mapStart","Map","container","style","center","addSource","addLayer","id","source","maxzoom","paint","stops","default","minzoom","property","myComp","JSON","parse","mapEnd","displayUsers","usersLookingForRoommate","entries","filter","entry","flyTo","options","keys","location","userData","marginBottom","marginRight","justifyContent","display","overlay","modal","option","value","params","props","color","val","myPopup","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useRef, useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\n// eslint-disable-next-line\nimport mapboxgl from \"!mapbox-gl\";\nimport axios from \"axios\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\nimport { deepPurple } from \"@mui/material/colors\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport ExpandLessIcon from \"@mui/icons-material/ExpandLess\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport \"react-responsive-modal/styles.css\";\nimport { Modal } from \"react-responsive-modal\";\nimport \"./App.css\";\n\nmapboxgl.accessToken = \"pk.eyJ1IjoiaWFua2hvdSIsImEiOiJja3U1enMzNHE0enN4Mm9waXNwcDlyeGVpIn0.gz1TKA2H5JfDkMiHkdVxRQ\";\n\nexport default function App() {\n\t// update users from Google Sheet\n\tconst mapContainer = useRef(null);\n\tconst map = useRef(null);\n\tconst [users, setUsers] = useState(null);\n\tconst [lng, setLng] = useState(-98.0822);\n\tconst [lat, setLat] = useState(39.6719);\n\tconst [zoom, setZoom] = useState(3);\n\tconst [search, setSearch] = useState(false);\n\tconst [displayRoommates, setDisplayRoommates] = useState(false);\n\n\tconst theme = createTheme({\n\t\tpalette: {\n\t\t\tmode: \"dark\",\n\t\t\tprimary: {\n\t\t\t  main: deepPurple[400],\n\t\t\t},\n\t\t  },\n\t  });\n\n\tuseEffect(() => {\n\t\tif (!map.current) return; // wait for map to initialize\n\t\tmap.current.on(\"move\", () => {\n\t\t\tsetLng(map.current.getCenter().lng.toFixed(4));\n\t\t\tsetLat(map.current.getCenter().lat.toFixed(4));\n\t\t\tsetZoom(map.current.getZoom().toFixed(2));\n\t\t});\n\t});\n\n\tfunction addPopup(el, coords) {\n\t\tconst placeholder = document.createElement(\"div\");\n\t\tReactDOM.render(el, placeholder);\n  \n\t\tnew mapboxgl.Popup()\n\t\t\t.setDOMContent(placeholder)\n\t\t\t.setLngLat(coords)\n\t\t\t.addTo(map.current);\n\t}\n\n\tconst formPopup = (users) => {\n\t\treturn <div>\n\t\t\t{users.map((user) => {\n\t\t\t\treturn <div className=\"user-container\" key={`USER_INFO_BOX_FOR_${user[\"email\"]}`}>\n\t\t\t\t\t<h1>{`${user[\"name\"]} '${user[\"year\"]}`}</h1>\n\t\t\t\t\t{user[\"roommate\"] ? <h3><b>Looking for a house/roommate</b></h3> : null}\n\t\t\t\t\t<p>Major(s): {user[\"major\"]}</p>\n\t\t\t\t\t<p>What I&apos;m doing here: {user[\"activity\"]}</p>\n\t\t\t\t\t{user[\"contact\"] ? <p>Contact: {user[\"contact\"]}</p> : null}\n\t\t\t\t\t<p>Last updated: {new Date(user[\"timestamp\"]).toLocaleDateString()}</p>\n\t\t\t\t</div>;\n\t\t\t}\n\t\t\t) }\n\t\t</div>;\n\t};\n\n\tuseEffect(() => {\n\t\tif (users) return;\n\t\tconst axiosStart = performance.now();\n\t\taxios.get(\"https://script.google.com/macros/s/AKfycbzqn-y8SAgoDB4QMh-XFzVwP1jrc2FDnh7GXFUy2Mkz6iKv9m5b0uhAKdT7Y9jrIQ7wcQ/exec\")\t\n\t\t\t.then((resp) => {\n\t\t\t\tconst axiosEnd = performance.now();\n\t\t\t\tconsole.log(`Axios call took ${axiosEnd - axiosStart} milliseconds`);\n        \n\t\t\t\tconst features = {};\n\t\t\t\tconst uniqueStart = performance.now();\n\t\t\t\tresp.data.forEach((d) => {          \n\t\t\t\t\tfeatures[d[\"Email Address\"]] =  {\n\t\t\t\t\t\ttype: \"Feature\",\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tweight: 1,\n\t\t\t\t\t\t\tusers: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttimestamp: d[\"Timestamp\"],\n\t\t\t\t\t\t\t\t\tname: d[\"Name (First Last)\"],\n\t\t\t\t\t\t\t\t\tyear: d[\"Year\"],\n\t\t\t\t\t\t\t\t\tmajor: d[\"Major(s)\"],\n\t\t\t\t\t\t\t\t\tactivity: d[\"What have/will you be(en) doing there (ex. Working at McDonalds as a Software Engineer)?\"],\n\t\t\t\t\t\t\t\t\troommate: d[\"Are you looking for a house/roommate?\"] == \"Yes\" ? true : false,\n\t\t\t\t\t\t\t\t\tcontact: d[\"Contact information\"],\n\t\t\t\t\t\t\t\t\temail: d[\"Email Address\"]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tattention: d[\"Are you looking for a house/roommate?\"] == \"Yes\" ? 1 : 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgeometry: {\n\t\t\t\t\t\t\ttype: \"Point\",\n\t\t\t\t\t\t\tcoordinates: [\n\t\t\t\t\t\t\t\td[\"Longitude\"], d[\"Latitude\"]\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsetUsers(features);\n\n\t\t\t\tconst uniqueEnd = performance.now();\n\n\t\t\t\tconsole.log(`Eliminating duplicate records took ${uniqueEnd - uniqueStart} milliseconds`);\n        \n\t\t\t\tconst groupStart = performance.now();\n\n\t\t\t\t// set contains coordinates [long, lat]\n\t\t\t\tconst locCache = new Set();\n\n\t\t\t\tconst groupedFeatures = [];\n\t\t\t\tlet groupI = 0;\n\n\t\t\t\t// map through each user\n\t\t\t\tObject.values(features).forEach((e) => {\n\t\t\t\t\tconst long = e[\"geometry\"][\"coordinates\"][0];\n\t\t\t\t\tconst lat = e[\"geometry\"][\"coordinates\"][1];\n\t\t\t\t\tlet found = false;\n\n\t\t\t\t\t// forEach through the cache and check for similar loc\n\t\t\t\t\tlocCache.forEach(c => {\n\t\t\t\t\t\t// if sim loc, group into the first occurrence\n\t\t\t\t\t\tif ((long - c[0]) ** 2 + (lat - c[1]) ** 2 < 0.001 ** 2) {\n\t\t\t\t\t\t\t// append to prev user list, inc weight, keep geometry\n              \n\t\t\t\t\t\t\tconst oldUserList = groupedFeatures[c[2]][\"properties\"][\"users\"];\n\t\t\t\t\t\t\tconst oldGeometry = groupedFeatures[c[2]][\"geometry\"];\n\t\t\t\t\t\t\tconst oldWeight = groupedFeatures[c[2]][\"properties\"][\"weight\"];\n\t\t\t\t\t\t\tconst oldAttention = groupedFeatures[c[2]][\"properties\"][\"attention\"];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tgroupedFeatures[c[2]] = {\n\t\t\t\t\t\t\t\ttype: \"Feature\",\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tweight: oldWeight + 1,\n\t\t\t\t\t\t\t\t\tusers: [...oldUserList, e[\"properties\"][\"users\"][0]],\n\t\t\t\t\t\t\t\t\tattention: + [oldAttention, e[\"properties\"][\"attention\"]].some((a) => a === 1)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tgeometry: oldGeometry\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t// if you've made it this far, there is not a match\n\t\t\t\t\t\t// push the uniquely-located user to the group\n\t\t\t\t\t\tgroupedFeatures.push(e);\n\t\t\t\t\t\t// cache their location and group index, increment group index\n\t\t\t\t\t\tlocCache.add([long, lat, groupI]);\n\t\t\t\t\t\tgroupI ++;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tconst groupEnd = performance.now();\n\n\t\t\t\tconsole.log(`Grouping records took ${groupEnd - groupStart} milliseconds`);\n\n\t\t\t\tconst userCollection = {\n\t\t\t\t\ttype: \"FeatureCollection\",\n\t\t\t\t\tfeatures: groupedFeatures\n\t\t\t\t};\n\n\t\t\t\tif (map.current) return; // initialize map only once\n    \n\t\t\t\tconst mapStart = performance.now();\n\n\t\t\t\tmap.current = new mapboxgl.Map({\n\t\t\t\t\tcontainer: mapContainer.current,\n\t\t\t\t\tstyle: \"mapbox://styles/mapbox/dark-v10\",\n\t\t\t\t\tcenter: [lng, lat],\n\t\t\t\t\tzoom: zoom\n\t\t\t\t});\n    \n\t\t\t\tmap.current.on(\"load\", () => {\n\t\t\t\t\tmap.current.addSource(\"users\", {\n\t\t\t\t\t\ttype: \"geojson\",\n\t\t\t\t\t\tdata: userCollection\n\t\t\t\t\t});\n\n\t\t\t\t\tmap.current.addLayer(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \"users-heat\",\n\t\t\t\t\t\t\ttype: \"heatmap\",\n\t\t\t\t\t\t\tsource: \"users\",\n\t\t\t\t\t\t\tmaxzoom: 14,\n\t\t\t\t\t\t\tpaint: {\n\t\t\t\t\t\t\t\t// increase weight as diameter breast height increases\n\t\t\t\t\t\t\t\t\"heatmap-weight\": {\n\t\t\t\t\t\t\t\t\ttype: \"exponential\",\n\t\t\t\t\t\t\t\t\tstops: [\n\t\t\t\t\t\t\t\t\t\t[1, 0],\n\t\t\t\t\t\t\t\t\t\t[500, 30],\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// increase intensity as zoom level increases\n\t\t\t\t\t\t\t\t\"heatmap-intensity\": {\n\t\t\t\t\t\t\t\t\tstops: [\n\t\t\t\t\t\t\t\t\t\t[11, 1],\n\t\t\t\t\t\t\t\t\t\t[15, 3]\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t// assign color values to points depending on their density\n\t\t\t\t\t\t\t\t\"heatmap-color\": [\n\t\t\t\t\t\t\t\t\t\"interpolate\",\n\t\t\t\t\t\t\t\t\t[\"linear\"],\n\t\t\t\t\t\t\t\t\t[\"heatmap-density\"],\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\"rgba(255,153,153,0)\",\n\t\t\t\t\t\t\t\t\t0.2,\n\t\t\t\t\t\t\t\t\t\"rgb(0,255,150)\",\n\t\t\t\t\t\t\t\t\t0.4,\n\t\t\t\t\t\t\t\t\t\"rgb(50,204,0)\",\n\t\t\t\t\t\t\t\t\t0.6,\n\t\t\t\t\t\t\t\t\t\"rgb(50,153,0)\",\n\t\t\t\t\t\t\t\t\t0.8,\n\t\t\t\t\t\t\t\t\t\"rgb(50,102,0)\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t// increase radius as zoom increases\n\t\t\t\t\t\t\t\t\"heatmap-radius\": {stops: [[11, 15],[15, 20]]},\n\t\t\t\t\t\t\t\t// decrease opacity to transition into the circle layer\n\t\t\t\t\t\t\t\t\"heatmap-opacity\": {\n\t\t\t\t\t\t\t\t\tdefault: 1,\n\t\t\t\t\t\t\t\t\tstops: [\n\t\t\t\t\t\t\t\t\t\t[11, 1],\n\t\t\t\t\t\t\t\t\t\t[12, 0]\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"waterway-label\"\n\t\t\t\t\t);\n\n\t\t\t\t\tmap.current.addLayer(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \"users-point\",\n\t\t\t\t\t\t\ttype: \"circle\",\n\t\t\t\t\t\t\tsource: \"users\",\n\t\t\t\t\t\t\tminzoom: 5,\n\t\t\t\t\t\t\tpaint: {\n\t\t\t\t\t\t\t\t// increase the radius of the circle as the zoom level and weight increases\n\t\t\t\t\t\t\t\t\"circle-radius\": 8,\n\t\t\t\t\t\t\t\t\"circle-color\": {\n\t\t\t\t\t\t\t\t\tproperty: \"attention\",\n\t\t\t\t\t\t\t\t\ttype: \"exponential\",\n\t\t\t\t\t\t\t\t\tstops: [\n\t\t\t\t\t\t\t\t\t\t[0, \"rgb(0,225,0)\"],\n\t\t\t\t\t\t\t\t\t\t[1, \"rgb(255,200,0)\"]\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"circle-stroke-color\": \"rgba(0,100,0, 0.3)\",\n\t\t\t\t\t\t\t\t\"circle-stroke-width\": 1,\n\t\t\t\t\t\t\t\t\"circle-opacity\": {\n\t\t\t\t\t\t\t\t\tstops: [\n\t\t\t\t\t\t\t\t\t\t[11, 0],\n\t\t\t\t\t\t\t\t\t\t[12, 1]\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"waterway-label\"\n\t\t\t\t\t);\n\n\t\t\t\t\tmap.current.on(\"click\", \"users-point\", ({ features }) => {\n\t\t\t\t\t\tconst { users } = features[0].properties;\n\t\t\t\t\t\tconst myComp = formPopup(JSON.parse(users));\n\t\t\t\t\t\taddPopup(myComp, features[0].geometry.coordinates);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tconst mapEnd = performance.now();\n\t\t\t\t\n\t\t\t\tconsole.log(`Mapping records took ${mapEnd - mapStart} milliseconds`);\n\t\t\t\tconsole.log(\"If you would like to help develop this site, please contact me (Ian Hou) via iankwanhou@gmail.com.\");\n\n\n\n\t\t\t});\n\t});\n\n\tconst displayUsers = () => {\n\t\tif (users) {\n\t\t\t// Filter for users looking for roommates\n\t\t\tconst usersLookingForRoommate = Object.entries(users).filter((entry) => {\n\t\t\t\treturn entry[1].properties.users[0].roommate === true;\n\t\t\t});\n\t\t\treturn usersLookingForRoommate.map(([email, data]) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div key={email} className=\"user-container\" onClick={()=>{map.current.flyTo({center: data.geometry.coordinates,\n\t\t\t\t\t\tzoom: 13});}}>\n\t\t\t\t\t\t<div>{data.properties.users[0].name}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tlet options;\n\n\tif (users) {\n\t\toptions = Object.keys(users).map((email) => {\n\t\t\treturn {\n\t\t\t\temail,\n\t\t\t\tname: users[email].properties.users[0].name,\n\t\t\t\tyear: users[email].properties.users[0].year,\n\t\t\t\tlocation: users[email].geometry.coordinates,\n\t\t\t\tuserData: users[email].properties.users\n\t\t\t};\n\t\t});\n\t} else {\n\t\toptions = [];\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<div className=\"top_left\">\n\t\t\t\t\t<p style={{marginBottom: 5}}>Long: {lng} | Lat: {lat}<br />Add yourself to the map!</p>\n\t\t\t\t\n\t\t\t\t\t<IconButton style={{marginRight:10}} color=\"primary\" onClick={()=>setSearch(true)}>\n\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Button className=\"action_button\" size=\"small\" variant=\"contained\" href=\"https://docs.google.com/forms/d/e/1FAIpQLSdV4LNX-1XjJCtvneYMH1V4d6UdABtJRtr1LOJOM272fc4HOQ/viewform?usp=sf_link\">\n    add yourself\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"top_right\">\n\t\t\t\t\t<p>Roommate seekers</p>\n\n\t\t\t\t\t<div className=\"inner_content\">{displayRoommates ? displayUsers():null}</div>\n\t\t\t\t\t{users ? <div style={{justifyContent: \"center\", display: \"flex\"}}>\n\t\t\t\t\t\t<IconButton aria-label=\"expand\" color=\"primary\" onClick={() => setDisplayRoommates(!displayRoommates)}>\n\t\t\t\t\t\t\t{displayRoommates ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>:null}\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</ThemeProvider>\n\t\t\t<div ref={mapContainer} className=\"map-container\" />\n\t\t\t<Modal center \n\t\t\t\tclassNames={{\n\t\t\t\t\toverlay: \"customOverlay\",\n\t\t\t\t\tmodal: \"customModal\",\n\t\t\t\t}}\n\t\t\t\topen={search} onClose={() => setSearch(false)}>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<Autocomplete \n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tisOptionEqualToValue={(option, value) => option.email === value.email}\n\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\tautoComplete\n\t\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\n\t\t\t\t\t\trenderOption={(props, option) => <li {...props} key={option.email}>{option.name} (&lsquo;{option.year})</li>}\n\t\t\t\t\t\tsx={{color: \"black\"}}\n\t\t\t\t\t\tonChange={(e, val) => {\n\t\t\t\t\t\t\tsetSearch(false);\n\t\t\t\t\t\t\tmap.current.flyTo(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcenter: val.location,\n\t\t\t\t\t\t\t\t\tzoom: 13\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst myPopup = formPopup(val.userData);\n\t\t\t\t\t\t\taddPopup(myPopup, val.location);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t</ThemeProvider>\n\t\t\t</Modal>\n\t\t</div>\n\n\t);\n}","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}